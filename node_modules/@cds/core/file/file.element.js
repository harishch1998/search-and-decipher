import{__decorate as t}from"tslib";import{html as i}from"lit";import{I18nService as e,i18n as s,state as o}from"@cds/core/internal";import{CdsControl as r}from"@cds/core/forms";import{ClarityIcons as n}from"@cds/core/icon/icon.service.js";import{folderIcon as l}from"@cds/core/icon/shapes/folder.js";import{timesIcon as c}from"@cds/core/icon/shapes/times.js";import d from"./file.element.scss.js";class a extends r{constructor(){super(),this.i18n=e.keys.file,this.buttonLabel=this.i18n.browse,this.fixedControlWidth=!0,this.supportsPrefixSuffixActions=!1,n.addIcons(l,c)}static get styles(){return[...super.styles,d]}get inputTemplate(){return i`<div><cds-button size="sm" action="outline" @click="${()=>this.label.click()}" ?disabled="${this.disabled}"><cds-icon shape="folder" aria-hidden="true"></cds-icon><span>${this.buttonLabel}</span></cds-button>${this.clearFilesControlTemplate}</div>`}get clearFilesControlTemplate(){var t;return(null===(t=this.inputControl.files)||void 0===t?void 0:t.length)&&!this.disabled?i`<cds-control-action @click="${()=>this.clearFiles()}" aria-label="${this.i18n.removeFile}"><cds-icon shape="times"></cds-icon></cds-control-action>`:i``}firstUpdated(t){super.firstUpdated(t),this.inputControl.addEventListener("change",(t=>{t.isTrusted&&this.updateLabelAndFocus(t.target.files)}))}clearFiles(t=!0){var i;this.buttonLabel=this.i18n.browse,this.inputControl.value="",t&&this.inputControl.dispatchEvent&&this.inputControl.dispatchEvent(new Event("change"));const e=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector("cds-button");e&&e.focus()}updateLabelAndFocus(t){t&&t.length?this.buttonLabel=t.length>1?`${t.length} ${this.i18n.files}`:t[0].name:this.clearFiles(!1)}}t([s()],a.prototype,"i18n",void 0),t([o()],a.prototype,"buttonLabel",void 0),t([o()],a.prototype,"fixedControlWidth",void 0),t([o()],a.prototype,"supportsPrefixSuffixActions",void 0);export{a as CdsFile};
//# sourceMappingURL=file.element.js.map
